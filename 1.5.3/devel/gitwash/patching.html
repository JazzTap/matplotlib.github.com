<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Making a patch — Matplotlib 1.5.3 documentation</title>
<link href="../../_static/mpl.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.5.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../_static/opensearch.xml" rel="search" title="Search within Matplotlib 1.5.3 documentation" type="application/opensearchdescription+xml"/>
<link href="../../_static/favicon.ico" rel="shortcut icon"/>
<link href="../../index.html" rel="top" title="Matplotlib 1.5.3 documentation"/>
<link href="index.html" rel="up" title="Working with matplotlib source code"/>
<link href="../testing.html" rel="next" title="Testing"/>
<link href="git_resources.html" rel="prev" title="git resources"/>
<link href="https://matplotlib.org/devel/gitwash/patching.html" rel="canonical"/></head>
<body><div id="old-version-banner">
            You are reading documentation for a static version of Matplotlib.
            <a href="https://matplotlib.org/devel/gitwash/patching.html">This page may have been updated.</a>
</div>
<div class="alert" style="background-color: #FEA46C; padding: 10px 0;
">
<h2>Matplotlib 2.0.0rc2 is available</h2>
<p><a href="../../style_changes.html" style="font-weight: bold;
color: #11557C;">Install the release candidate now!</a></p>
</div>
<!-- The "Fork me on github" ribbon -->
<img src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" usemap="#ribbonmap"/>
<map name="ribbonmap">
<area coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" shape="poly" title="Fork me on GitHub"/>
</map>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img alt="matplotlib" border="0" src="../../_static/logo2.svg" width="540px"/></a>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="../testing.html" title="Testing">next</a> |</li>
<li class="right">
<a accesskey="P" href="git_resources.html" title="git resources">previous</a> |</li>
<li><a href="../../index.html">home</a>| </li>
<li><a href="../../examples/index.html">examples</a>| </li>
<li><a href="../../gallery.html">gallery</a>| </li>
<li><a href="../../api/pyplot_summary.html">pyplot</a>| </li>
<li><a href="../../contents.html">docs</a> »</li>
<li><a href="../index.html">The Matplotlib Developers’ Guide</a> »</li>
<li><a accesskey="U" href="index.html">Working with <em>matplotlib</em> source code</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<a href="http://depsy.org/package/python/matplotlib">
<img src="http://depsy.org/api/package/pypi/matplotlib/badge.svg"/>
</a>
<br/>

Travis-CI: <a href="https://travis-ci.org/matplotlib/matplotlib">
<img src="https://travis-ci.org/matplotlib/matplotlib.svg?branch=master"/>
</a>
<br/>
<h3><a href="../../contents.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">Making a patch</a><ul>
<li><a class="reference internal" href="#making-patches">Making patches</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#in-detail">In detail</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../../contents.html">Documentation overview</a><ul>
<li><a href="../index.html">The Matplotlib Developers’ Guide</a><ul>
<li><a href="index.html">Working with <em>matplotlib</em> source code</a><ul>
<li>Previous: <a href="git_resources.html" title="previous chapter">git resources</a></li>
<li>Next: <a href="../testing.html" title="next chapter">Testing</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
<div aria-label="source link" role="note">
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../../_sources/devel/gitwash/patching.txt" rel="nofollow">Show Source</a></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3>Quick search</h3>
<form action="../../search.html" class="search" method="get">
<div><input name="q" type="text"/></div>
<div><input type="submit" value="Go"/></div>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="making-a-patch">
<h1>Making a patch<a class="headerlink" href="#making-a-patch" title="Permalink to this headline">¶</a></h1>
<div class="section" id="making-patches">
<span id="id1"></span><h2>Making patches<a class="headerlink" href="#making-patches" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># tell git who you are</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="n">you</span><span class="nd">@yourdomain</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s2">"Your Name Comes Here"</span>
<span class="c1"># get the repository if you don't have it</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">git</span>
<span class="c1"># make a branch for your patching</span>
<span class="n">cd</span> <span class="n">matplotlib</span>
<span class="n">git</span> <span class="n">branch</span> <span class="n">the</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">im</span><span class="o">-</span><span class="n">thinking</span><span class="o">-</span><span class="n">of</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">the</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">im</span><span class="o">-</span><span class="n">thinking</span><span class="o">-</span><span class="n">of</span>
<span class="c1"># hack, hack, hack</span>
<span class="c1"># Tell git about any new files you've made</span>
<span class="n">git</span> <span class="n">add</span> <span class="n">somewhere</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_my_bug</span><span class="o">.</span><span class="n">py</span>
<span class="c1"># commit work in progress as you go</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s1">'BF - added tests for Funny bug'</span>
<span class="c1"># hack hack, hack</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s1">'BF - added fix for Funny bug'</span>
<span class="c1"># make the patch files</span>
<span class="n">git</span> <span class="nb">format</span><span class="o">-</span><span class="n">patch</span> <span class="o">-</span><span class="n">M</span> <span class="o">-</span><span class="n">C</span> <span class="n">master</span>
</pre></div>
</div>
<p>Then, send the generated patch files to the <a class="reference external" href="https://mail.python.org/mailman/listinfo/matplotlib-devel">matplotlib
mailing list</a> — where we will thank you warmly.</p>
</div>
<div class="section" id="in-detail">
<h3>In detail<a class="headerlink" href="#in-detail" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Tell <a class="reference external" href="http://git-scm.com/">git</a> who you are so it can label the commits you’ve
made:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="n">you</span><span class="nd">@yourdomain</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s2">"Your Name Comes Here"</span>
</pre></div>
</div>
</li>
<li><p class="first">If you don’t already have one, clone a copy of the
<a class="reference external" href="http://matplotlib.org">matplotlib</a> repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">/</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">matplotlib</span>
</pre></div>
</div>
</li>
<li><p class="first">Make a ‘feature branch’.  This will be where you work on
your bug fix.  It’s nice and safe and leaves you with
access to an unmodified copy of the code in the main
branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">the</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">im</span><span class="o">-</span><span class="n">thinking</span><span class="o">-</span><span class="n">of</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">the</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">im</span><span class="o">-</span><span class="n">thinking</span><span class="o">-</span><span class="n">of</span>
</pre></div>
</div>
</li>
<li><p class="first">Do some edits, and commit them as you go:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># hack, hack, hack</span>
<span class="c1"># Tell git about any new files you've made</span>
<span class="n">git</span> <span class="n">add</span> <span class="n">somewhere</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">test_my_bug</span><span class="o">.</span><span class="n">py</span>
<span class="c1"># commit work in progress as you go</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s1">'BF - added tests for Funny bug'</span>
<span class="c1"># hack hack, hack</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s1">'BF - added fix for Funny bug'</span>
</pre></div>
</div>
<p>Note the <code class="docutils literal"><span class="pre">-am</span></code> options to <code class="docutils literal"><span class="pre">commit</span></code>. The <code class="docutils literal"><span class="pre">m</span></code> flag just
signals that you’re going to type a message on the command
line.  The <code class="docutils literal"><span class="pre">a</span></code> flag — you can just take on faith —
or see <a class="reference external" href="http://www.gitready.com/beginner/2009/01/18/the-staging-area.html">why the -a flag?</a>.</p>
</li>
<li><p class="first">When you have finished, check you have committed all your
changes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</li>
<li><p class="first">Finally, make your commits into patches.  You want all the
commits since you branched from the <code class="docutils literal"><span class="pre">master</span></code> branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="nb">format</span><span class="o">-</span><span class="n">patch</span> <span class="o">-</span><span class="n">M</span> <span class="o">-</span><span class="n">C</span> <span class="n">master</span>
</pre></div>
</div>
<p>You will now have several files named for the commits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">0001</span><span class="o">-</span><span class="n">BF</span><span class="o">-</span><span class="n">added</span><span class="o">-</span><span class="n">tests</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">Funny</span><span class="o">-</span><span class="n">bug</span><span class="o">.</span><span class="n">patch</span>
<span class="mi">0002</span><span class="o">-</span><span class="n">BF</span><span class="o">-</span><span class="n">added</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">Funny</span><span class="o">-</span><span class="n">bug</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<p>Send these files to the <a class="reference external" href="https://mail.python.org/mailman/listinfo/matplotlib-devel">matplotlib mailing list</a>.</p>
</li>
</ol>
<p>When you are done, to switch back to the main copy of the
code, just return to the <code class="docutils literal"><span class="pre">master</span></code> branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
        © Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2014 The matplotlib development team.
      Last updated on Dec 19, 2016.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.3.
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55954603-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<footer>
<!--Flipcause Integration v3.0// Flipcause Integration Instructions:
Install the following code block once in the website Header (after <head> tag) -->
<style>

.fc-black_overlay{
display:none; position: fixed; z-index:1000001; top: 0%;left: 0%;width: 100%;height: 100%;
background-color: black; filter: alpha(opacity=50); cursor:pointer; opacity:0.5;
}

.fc-white_content {
opacity:1; display:none; margin-top: -320px; margin-left: -485px; width:970px; height:640px;
position:fixed; top:50%; left:50%; border: none;z-index:1000002;overflow: auto;
}

.fc-main-box{
opacity:1; display:none; margin:15px auto 0 auto; width:930px; position:relative; z-index:1000003;
}

.fc-widget_close{
opacity:1; content:url(http://i1338.photobucket.com/albums/o691/WeCause/X_zpse4a7e538.png);
position:absolute; z-index=1000004; right:-16px; top:-16px; display:block; cursor:pointer;
}

.floating_button{
display: block; margin-top: 0px; margin-left: 0px; width:auto ; height: auto;
position:fixed; z-index:999999; overflow: auto;
}

@keyframes backfadesin {
   from { opacity:0; }
   to {opacity:.5;}
}

@-moz-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-webkit-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@-o-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}


@-ms-keyframes backfadesin {
    from { opacity:0; }
    to {opacity:.5;}
}

@keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; transform: translateY(20px);}
   100% {opacity: 1; transform: translateY(0);}
}

@-moz-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -moz-transform: translateY(20px);}
   100% {opacity: 1; -moz-transform: translateY(0);}
}

@-webkit-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -webkit-transform: translateY(20px);}
   100% {opacity: 1; -webkit-transform: translateY(0);}
}

@-o-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -o-transform: translateY(20px);}
   100% {opacity: 1; -o-transform: translateY(0);}
}

@-ms-keyframes fadesin {
   0%{ opacity:0; }
   50%{ opacity:0; }
   75% {opacity: 0; -ms-transform: translateY(20px);}
   100% {opacity: 1; -ms-transform: translateY(0);}
}

</style>
<script>

function open_window(cause_id) {
var  protocol=String(document.location.protocol);
var new_url;
if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
new_url="https://www.flipcause.com/widget/"+cause_id
window.open(new_url);
}

else {
document.getElementById("fc-fade").style.display = "block";
document.getElementById("fc-fade").style.webkitAnimation = "backfadesin 1s";
document.getElementById("fc-fade").style.animation = "backfadesin 1s";
document.getElementById("fc-fade").style.mozAnimation = "backfadesin 1s";
document.getElementById("fc-light").style.display = "block";
document.getElementById("fc-light").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-light").style.animation = "fadesin 1.5s";
document.getElementById("fc-light").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.display = "block";
document.getElementById("fc-main").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-main").style.animation = "fadesin 1.5s";
document.getElementById("fc-main").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.display = "block";
document.getElementById("fc-close").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-close").style.animation = "fadesin 1.5s";
document.getElementById("fc-close").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.display = "block";
document.getElementById("fc-myFrame").style.webkitAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.animation = "fadesin 1.5s";
document.getElementById("fc-myFrame").style.mozAnimation = "fadesin 1.5s";
document.getElementById("fc-myFrame").src="https://www.flipcause.com/widget/"+cause_id;
}
}


function close_window() {
document.getElementById("fc-fade").style.display="none";
document.getElementById("fc-light").style.display="none";
document.getElementById("fc-main").style.display="none";
document.getElementById("fc-close").style.display="none";
document.getElementById("fc-myFrame").style.display="none";
}

</script>
<div class="fc-black_overlay" id="fc-fade" onclick="close_window()"></div>
<div class="fc-white_content" id="fc-light">
<div class="fc-main-box" id="fc-main">
<div class="fc-widget_close" id="fc-close" onclick="close_window()">
</div><iframe height="580" id="fc-myFrame" iframe="" scrolling="no" src="" style="border: 0;
border-radius:5px 5px 5px 5px; box-shadow:0 0 8px rgba(0, 0, 0, 0.5);" width="925"></iframe></div>
</div>
<!--END Flipcause Main Integration Code-->
</footer>
</html>
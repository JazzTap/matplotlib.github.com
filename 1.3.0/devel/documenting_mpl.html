<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Documenting matplotlib — Matplotlib 1.3.0 documentation</title>
<link href="../_static/mpl.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<link href="../_static/opensearch.xml" rel="search" title="Search within Matplotlib 1.3.0 documentation" type="application/opensearchdescription+xml"/>
<link href="../index.html" rel="top" title="Matplotlib 1.3.0 documentation"/>
<link href="index.html" rel="up" title="The Matplotlib Developers’ Guide"/>
<link href="release_guide.html" rel="next" title="Doing a matplotlib release"/>
<link href="testing.html" rel="prev" title="Testing"/>
<link href="https://matplotlib.org/devel/documenting_mpl.html" rel="canonical"/></head>
<body><div id="old-version-banner">
            You are reading documentation for a static version of Matplotlib.
            <a href="https://matplotlib.org/devel/documenting_mpl.html">This page may have been updated.</a>
</div>
<!-- Piwik -->
<script type="text/javascript">
if ("matplotlib.sourceforge.net" == document.location.hostname ||
    "matplotlib.sf.net" == document.location.hostname) {
  var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/matplotlib/" : "http://apps.sourceforge.net/piwik/matplotlib/");
  document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
<script type="text/javascript">
if ("matplotlib.sourceforge.net" == document.location.hostname ||
    "matplotlib.sf.net" == document.location.hostname) {
  piwik_action_name = '';
  piwik_idsite = 1;
  piwik_url = pkBaseURL + "piwik.php";
  piwik_log(piwik_action_name, piwik_idsite, piwik_url);
  document.write(unescape('%3Cobject%3E%3Cnoscript%3E%3Cp%3E%3Cimg src="http://apps.sourceforge.net/piwik/matplotlib/piwik.php?idsite=1" alt="piwik"/%3E%3C/p%3E%3C/noscript%3E%3C/object%3E'));
}
</script>
<!-- End Piwik Tag -->
<link href="_static/favicon.ico" rel="shortcut icon"/>
<!-- The "Fork me on github" ribbon -->
<img src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" usemap="#ribbonmap"/>
<map name="ribbonmap">
<area coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" shape="poly" title="Fork me on GitHub"/>
</map>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img alt="matplotlib" border="0" src="../_static/logo2.png"/></a>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="release_guide.html" title="Doing a matplotlib release">next</a> |</li>
<li class="right">
<a accesskey="P" href="testing.html" title="Testing">previous</a> |</li>
<li><a href="../index.html">home</a>| </li>
<li><a href="../examples/index.html">examples</a>| </li>
<li><a href="../gallery.html">gallery</a>| </li>
<li><a href="../api/pyplot_summary.html">pyplot</a>| </li>
<li><a href="../contents.html">docs</a> »</li>
<li><a accesskey="U" href="index.html">The Matplotlib Developers’ Guide</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><a href="../contents.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">Documenting matplotlib</a><ul>
<li><a class="reference internal" href="#getting-started">Getting started</a></li>
<li><a class="reference internal" href="#organization-of-matplotlib-s-documentation">Organization of matplotlib’s documentation</a><ul>
<li><a class="reference internal" href="#docstrings">docstrings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#formatting">Formatting</a></li>
<li><a class="reference internal" href="#figures">Figures</a><ul>
<li><a class="reference internal" href="#dynamically-generated-figures">Dynamically generated figures</a><ul>
<li><a class="reference internal" href="#module-matplotlib.sphinxext.plot_directive">Plot directive documentation</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#configuration-options">Configuration options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#static-figures">Static figures</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#animations">Animations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#referring-to-mpl-documents">Referring to mpl documents</a></li>
<li><a class="reference internal" href="#internal-section-references">Internal section references</a></li>
<li><a class="reference internal" href="#section-names-etc">Section names, etc</a></li>
<li><a class="reference internal" href="#inheritance-diagrams">Inheritance diagrams</a></li>
<li><a class="reference internal" href="#emacs-helpers">Emacs helpers</a></li>
</ul>
</li>
</ul>
<h4>Previous topic</h4>
<p class="topless"><a href="testing.html" title="previous chapter">Testing</a></p>
<h4>Next topic</h4>
<p class="topless"><a href="release_guide.html" title="next chapter">Doing a matplotlib release</a></p>
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../_sources/devel/documenting_mpl.txt" rel="nofollow">Show Source</a></li>
</ul>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="documenting-matplotlib">
<span id="id1"></span><h1>Documenting matplotlib<a class="headerlink" href="#documenting-matplotlib" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>The documentation for matplotlib is generated from ReStructured Text using the
<a class="reference external" href="http://sphinx.pocoo.org">Sphinx</a> documentation generation tool. Sphinx-1.0 or later and numpydoc 0.4 or
later is required.</p>
<p>The documentation sources are found in the <tt class="file docutils literal"><span class="pre">doc/</span></tt> directory in
the trunk.  To build the users guide in html format, cd into
<tt class="file docutils literal"><span class="pre">doc/</span></tt> and do:</p>
<div class="highlight-python"><pre>python make.py html</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>./make.py html</pre>
</div>
<p>you can also pass a <tt class="docutils literal"><span class="pre">latex</span></tt> flag to make.py to build a pdf, or pass no
arguments to build everything.</p>
<p>The output produced by Sphinx can be configured by editing the <tt class="file docutils literal"><span class="pre">conf.py</span></tt>
file located in the <tt class="file docutils literal"><span class="pre">doc/</span></tt>.</p>
</div>
<div class="section" id="organization-of-matplotlib-s-documentation">
<h2>Organization of matplotlib’s documentation<a class="headerlink" href="#organization-of-matplotlib-s-documentation" title="Permalink to this headline">¶</a></h2>
<p>The actual ReStructured Text files are kept in <tt class="file docutils literal"><span class="pre">doc/users</span></tt>,
<tt class="file docutils literal"><span class="pre">doc/devel</span></tt>, <tt class="file docutils literal"><span class="pre">doc/api</span></tt> and <tt class="file docutils literal"><span class="pre">doc/faq</span></tt>. The main entry point is
<tt class="file docutils literal"><span class="pre">doc/index.rst</span></tt>, which pulls in the <tt class="file docutils literal"><span class="pre">index.rst</span></tt> file for the users
guide, developers guide, api reference, and faqs. The documentation suite is
built as a single document in order to make the most effective use of cross
referencing, we want to make navigating the Matplotlib documentation as easy as
possible.</p>
<p>Additional files can be added to the various guides by including their base
file name (the .rst extension is not necessary) in the table of contents.
It is also possible to include other documents through the use of an include
statement, such as:</p>
<div class="highlight-python"><pre>.. include:: ../../TODO</pre>
</div>
<div class="section" id="docstrings">
<h3>docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h3>
<p>In addition to the “narrative” documentation described above,
matplotlib also defines its API reference documentation in docstrings.
For the most part, these are standard Python docstrings, but
matplotlib also includes some features to better support documenting
getters and setters.</p>
<p>Matplotlib uses artist introspection of docstrings to support
properties.  All properties that you want to support through <tt class="docutils literal"><span class="pre">setp</span></tt>
and <tt class="docutils literal"><span class="pre">getp</span></tt> should have a <tt class="docutils literal"><span class="pre">set_property</span></tt> and <tt class="docutils literal"><span class="pre">get_property</span></tt>
method in the <a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><tt class="xref py py-class docutils literal"><span class="pre">Artist</span></tt></a> class.  Yes, this is
not ideal given python properties or enthought traits, but it is a
historical legacy for now.  The setter methods use the docstring with
the ACCEPTS token to indicate the type of argument the method accepts.
e.g., in <a class="reference internal" href="../api/artist_api.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><tt class="xref py py-class docutils literal"><span class="pre">matplotlib.lines.Line2D</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in lines.py</span>
<span class="k">def</span> <span class="nf">set_linestyle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linestyle</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Set the linestyle of the line</span>

<span class="sd">    ACCEPTS: [ '-' | '--' | '-.' | ':' | 'steps' | 'None' | ' ' | '' ]</span>
<span class="sd">    """</span>
</pre></div>
</div>
<p>Since matplotlib uses a lot of pass-through <tt class="docutils literal"><span class="pre">kwargs</span></tt>, e.g., in every
function that creates a line (<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot"><tt class="xref py py-func docutils literal"><span class="pre">plot()</span></tt></a>,
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.semilogx" title="matplotlib.pyplot.semilogx"><tt class="xref py py-func docutils literal"><span class="pre">semilogx()</span></tt></a>,
<a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.semilogy" title="matplotlib.pyplot.semilogy"><tt class="xref py py-func docutils literal"><span class="pre">semilogy()</span></tt></a>, etc...), it can be difficult for
the new user to know which <tt class="docutils literal"><span class="pre">kwargs</span></tt> are supported.  Matplotlib uses
a docstring interpolation scheme to support documentation of every
function that takes a <tt class="docutils literal"><span class="pre">**kwargs</span></tt>.  The requirements are:</p>
<ol class="arabic simple">
<li>single point of configuration so changes to the properties don’t
require multiple docstring edits.</li>
<li>as automated as possible so that as properties change, the docs
are updated automagically.</li>
</ol>
<p>The functions <tt class="xref py py-attr docutils literal"><span class="pre">matplotlib.artist.kwdocd</span></tt> and
<a class="reference internal" href="../api/artist_api.html#matplotlib.artist.kwdoc" title="matplotlib.artist.kwdoc"><tt class="xref py py-func docutils literal"><span class="pre">matplotlib.artist.kwdoc()</span></tt></a> to facilitate this.  They combine
python string interpolation in the docstring with the matplotlib
artist introspection facility that underlies <tt class="docutils literal"><span class="pre">setp</span></tt> and <tt class="docutils literal"><span class="pre">getp</span></tt>.
The <tt class="docutils literal"><span class="pre">kwdocd</span></tt> is a single dictionary that maps class name to a
docstring of <tt class="docutils literal"><span class="pre">kwargs</span></tt>.  Here is an example from
<a class="reference internal" href="../api/artist_api.html#module-matplotlib.lines" title="matplotlib.lines"><tt class="xref py py-mod docutils literal"><span class="pre">matplotlib.lines</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in lines.py</span>
<span class="n">artist</span><span class="o">.</span><span class="n">kwdocd</span><span class="p">[</span><span class="s">'Line2D'</span><span class="p">]</span> <span class="o">=</span> <span class="n">artist</span><span class="o">.</span><span class="n">kwdoc</span><span class="p">(</span><span class="n">Line2D</span><span class="p">)</span>
</pre></div>
</div>
<p>Then in any function accepting <a class="reference internal" href="../api/artist_api.html#matplotlib.lines.Line2D" title="matplotlib.lines.Line2D"><tt class="xref py py-class docutils literal"><span class="pre">Line2D</span></tt></a>
pass-through <tt class="docutils literal"><span class="pre">kwargs</span></tt>, e.g., <a class="reference internal" href="../api/axes_api.html#matplotlib.axes.Axes.plot" title="matplotlib.axes.Axes.plot"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.axes.Axes.plot()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in axes.py</span>
<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Some stuff omitted</span>

<span class="sd">    The kwargs are Line2D properties:</span>
<span class="sd">    %(Line2D)s</span>

<span class="sd">    kwargs scalex and scaley, if defined, are passed on</span>
<span class="sd">    to autoscale_view to determine whether the x and y axes are</span>
<span class="sd">    autoscaled; default True.  See Axes.autoscale_view for more</span>
<span class="sd">    information</span>
<span class="sd">    """</span>
    <span class="k">pass</span>
<span class="n">plot</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span> <span class="o">%</span> <span class="n">artist</span><span class="o">.</span><span class="n">kwdocd</span>
</pre></div>
</div>
<p>Note there is a problem for <a class="reference internal" href="../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><tt class="xref py py-class docutils literal"><span class="pre">Artist</span></tt></a>
<tt class="docutils literal"><span class="pre">__init__</span></tt> methods, e.g., <tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.patches.Patch.__init__()</span></tt>,
which supports <tt class="docutils literal"><span class="pre">Patch</span></tt> <tt class="docutils literal"><span class="pre">kwargs</span></tt>, since the artist inspector cannot
work until the class is fully defined and we can’t modify the
<tt class="docutils literal"><span class="pre">Patch.__init__.__doc__</span></tt> docstring outside the class definition.
There are some some manual hacks in this case, violating the
“single entry point” requirement above – see the
<tt class="docutils literal"><span class="pre">artist.kwdocd['Patch']</span></tt> setting in <a class="reference internal" href="../api/artist_api.html#module-matplotlib.patches" title="matplotlib.patches"><tt class="xref py py-mod docutils literal"><span class="pre">matplotlib.patches</span></tt></a>.</p>
</div>
</div>
<div class="section" id="formatting">
<span id="formatting-mpl-docs"></span><h2>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h2>
<p>The Sphinx website contains plenty of <a class="reference external" href="http://sphinx.pocoo.org/contents.html">documentation</a> concerning ReST markup and
working with Sphinx in general. Here are a few additional things to keep in mind:</p>
<ul>
<li><p class="first">Please familiarize yourself with the Sphinx directives for <a class="reference external" href="http://sphinx.pocoo.org/markup/inline.html">inline
markup</a>. Matplotlib’s documentation makes heavy use of cross-referencing and
other semantic markup. For example, when referring to external files, use the
<tt class="docutils literal"><span class="pre">:file:</span></tt> directive.</p>
</li>
<li><p class="first">Function arguments and keywords should be referred to using the <em>emphasis</em>
role. This will keep matplotlib’s documentation consistent with Python’s
documentation:</p>
<div class="highlight-python"><pre>Here is a description of *argument*</pre>
</div>
<p>Please do not use the <tt class="xref py py-obj docutils literal"><span class="pre">default</span> <span class="pre">role</span></tt>:</p>
<div class="highlight-python"><pre>Please do not describe `argument` like this.</pre>
</div>
<p>nor the <tt class="docutils literal"><span class="pre">literal</span></tt> role:</p>
<div class="highlight-python"><pre>Please do not describe ``argument`` like this.</pre>
</div>
</li>
<li><p class="first">Sphinx does not support tables with column- or row-spanning cells for
latex output. Such tables can not be used when documenting matplotlib.</p>
</li>
<li><p class="first">Mathematical expressions can be rendered as png images in html, and in the
usual way by latex. For example:</p>
<p><tt class="docutils literal"><span class="pre">:math:`\sin(x_n^2)`</span></tt> yields: <img src="../_images/mathmpl/math-fa85ea0416.png" style="position: relative; bottom: -8px"/>, and:</p>
<div class="highlight-python"><pre>.. math::

  \int_{-\infty}^{\infty}\frac{e^{i\phi}}{1+x^2\frac{e^{i\phi}}{1+x^2}}</pre>
</div>
<p>yields:</p>
<img class="center" src="../_images/mathmpl/math-5b4e20db62.png"/></li>
<li><p class="first">Interactive IPython sessions can be illustrated in the documentation using
the following directive:</p>
<div class="highlight-python"><pre>.. sourcecode:: ipython

  In [69]: lines = plot([1,2,3])</pre>
</div>
<p>which would yield:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [69]: </span><span class="n">lines</span> <span class="o">=</span> <span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">Footnotes <a class="footnote-reference" href="#id3" id="id2">[1]</a> can be added using <tt class="docutils literal"><span class="pre">[#]_</span></tt>, followed later by:</p>
<div class="highlight-python"><pre>.. rubric:: Footnotes

.. [#]</pre>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label"/><col/></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><p class="first last">For example.</p>
</td></tr>
</tbody>
</table>
</li>
<li><p class="first">Use the <em>note</em> and <em>warning</em> directives, sparingly, to draw attention to
important comments:</p>
<div class="highlight-python"><pre>.. note::
   Here is a note</pre>
</div>
<p>yields:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">here is a note</p>
</div>
<p>also:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">here is a warning</p>
</div>
</li>
<li><p class="first">Use the <em>deprecated</em> directive when appropriate:</p>
<div class="highlight-python"><pre>.. deprecated:: 0.98
   This feature is obsolete, use something else.</pre>
</div>
<p>yields:</p>
<div class="deprecated">
<p><span>Deprecated since version 0.98: </span>This feature is obsolete, use something else.</p>
</div>
</li>
<li><p class="first">Use the <em>versionadded</em> and <em>versionchanged</em> directives, which have similar
syntax to the <em>deprecated</em> role:</p>
<div class="highlight-python"><pre>.. versionadded:: 0.98
   The transforms have been completely revamped.</pre>
</div>
<div class="versionadded">
<p><span>New in version 0.98: </span>The transforms have been completely revamped.</p>
</div>
</li>
<li><p class="first">Use the <em>seealso</em> directive, for example:</p>
<div class="highlight-python"><pre>.. seealso::

   Using ReST :ref:`emacs-helpers`:
      One example

   A bit about :ref:`referring-to-mpl-docs`:
      One more</pre>
</div>
<p>yields:</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Using ResT <a class="reference internal" href="#emacs-helpers"><em>Emacs helpers</em></a>:</dt>
<dd><p class="first last">One example</p>
</dd>
<dt>A bit about <a class="reference internal" href="#referring-to-mpl-docs"><em>Referring to mpl documents</em></a>:</dt>
<dd><p class="first last">One more</p>
</dd>
</dl>
</div>
</li>
<li><p class="first">Please keep the <a class="reference internal" href="../glossary/index.html#glossary"><em>Glossary</em></a> in mind when writing documentation. You can
create a references to a term in the glossary with the <tt class="docutils literal"><span class="pre">:term:</span></tt> role.</p>
</li>
<li><p class="first">The autodoc extension will handle index entries for the API, but additional
entries in the <a class="reference external" href="http://sphinx.pocoo.org/markup/para.html#index-generating-markup">index</a> need to be explicitly added.</p>
</li>
</ul>
<ul>
<li><p class="first">Please limit the text width of docstrings to 70 characters.</p>
</li>
<li><p class="first">Keyword arguments should be described using a definition list.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">matplotlib makes extensive use of keyword arguments as pass-through
arguments, there are a many cases where a table is used in place of a
definition list for autogenerated sections of docstrings.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="figures">
<h2>Figures<a class="headerlink" href="#figures" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dynamically-generated-figures">
<h3>Dynamically generated figures<a class="headerlink" href="#dynamically-generated-figures" title="Permalink to this headline">¶</a></h3>
<p>Figures can be automatically generated from scripts and included in
the docs.  It is not necessary to explicitly save the figure in the
script, this will be done automatically at build time to ensure that
the code that is included runs and produces the advertised figure.</p>
<p>The path should be relative to the <tt class="docutils literal"><span class="pre">doc</span></tt> directory.  Any plots
specific to the documentation should be added to the <tt class="docutils literal"><span class="pre">doc/pyplots</span></tt>
directory and committed to git.  Plots from the <tt class="docutils literal"><span class="pre">examples</span></tt> directory
may be referenced through the symlink <tt class="docutils literal"><span class="pre">mpl_examples</span></tt> in the <tt class="docutils literal"><span class="pre">doc</span></tt>
directory.  e.g.:</p>
<div class="highlight-python"><pre>.. plot:: mpl_examples/pylab_examples/simple_plot.py</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">:scale:</span></tt> directive rescales the image to some percentage of the
original size, though we don’t recommend using this in most cases
since it is probably better to choose the correct figure size and dpi
in mpl and let it handle the scaling.</p>
<div class="section" id="module-matplotlib.sphinxext.plot_directive">
<span id="plot-directive-documentation"></span><h4>Plot directive documentation<a class="headerlink" href="#module-matplotlib.sphinxext.plot_directive" title="Permalink to this headline">¶</a></h4>
<p>A directive for including a matplotlib plot in a Sphinx document.</p>
<p>By default, in HTML output, <tt class="xref py py-obj docutils literal"><span class="pre">plot</span></tt> will include a .png file with a
link to a high-res .png and .pdf.  In LaTeX output, it will include a
.pdf.</p>
<p>The source code for the plot may be included in one of three ways:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first"><strong>A path to a source file</strong> as the argument to the directive:</p>
<div class="highlight-python"><pre>.. plot:: path/to/plot.py</pre>
</div>
<p>When a path to a source file is given, the content of the
directive may optionally contain a caption for the plot:</p>
<div class="highlight-python"><pre>.. plot:: path/to/plot.py

   This is the caption for the plot</pre>
</div>
<p>Additionally, one my specify the name of a function to call (with
no arguments) immediately after importing the module:</p>
<div class="highlight-python"><pre>.. plot:: path/to/plot.py plot_function1</pre>
</div>
</li>
<li><p class="first">Included as <strong>inline content</strong> to the directive:</p>
<div class="highlight-python"><pre>.. plot::

   import matplotlib.pyplot as plt
   import matplotlib.image as mpimg
   import numpy as np
   img = mpimg.imread('_static/stinkbug.png')
   imgplot = plt.imshow(img)</pre>
</div>
</li>
<li><p class="first">Using <strong>doctest</strong> syntax:</p>
<div class="highlight-python"><pre>.. plot::
   A plotting example:
   &gt;&gt;&gt; import matplotlib.pyplot as plt
   &gt;&gt;&gt; plt.plot([1,2,3], [4,5,6])</pre>
</div>
</li>
</ol>
</div></blockquote>
<div class="section" id="options">
<h5>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h5>
<p>The <tt class="docutils literal"><span class="pre">plot</span></tt> directive supports the following options:</p>
<blockquote>
<div><dl class="docutils">
<dt>format <span class="classifier-delimiter">:</span> <span class="classifier">{‘python’, ‘doctest’}</span></dt>
<dd>Specify the format of the input</dd>
<dt>include-source <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>Whether to display the source code. The default can be changed
using the <tt class="xref py py-obj docutils literal"><span class="pre">plot_include_source</span></tt> variable in conf.py</dd>
<dt>encoding <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>If this source file is in a non-UTF8 or non-ASCII encoding,
the encoding must be specified using the <tt class="xref py py-obj docutils literal"><span class="pre">:encoding:</span></tt> option.
The encoding will not be inferred using the <tt class="docutils literal"><span class="pre">-*-</span> <span class="pre">coding</span> <span class="pre">-*-</span></tt>
metacomment.</dd>
<dt>context <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>If provided, the code will be run in the context of all
previous plot directives for which the <tt class="xref py py-obj docutils literal"><span class="pre">:context:</span></tt> option was
specified.  This only applies to inline code plot directives,
not those run from files.</dd>
<dt>nofigs <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>If specified, the code block will be run, but no figures will
be inserted.  This is usually useful with the <tt class="docutils literal"><span class="pre">:context:</span></tt>
option.</dd>
</dl>
</div></blockquote>
<p>Additionally, this directive supports all of the options of the
<tt class="xref py py-obj docutils literal"><span class="pre">image</span></tt> directive, except for <tt class="xref py py-obj docutils literal"><span class="pre">target</span></tt> (since plot will add its own
target).  These include <tt class="xref py py-obj docutils literal"><span class="pre">alt</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">height</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">width</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">scale</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">align</span></tt> and
<tt class="xref py py-obj docutils literal"><span class="pre">class</span></tt>.</p>
</div>
<div class="section" id="configuration-options">
<h5>Configuration options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h5>
<p>The plot directive has the following configuration options:</p>
<blockquote>
<div><dl class="docutils">
<dt>plot_include_source</dt>
<dd>Default value for the include-source option</dd>
<dt>plot_pre_code</dt>
<dd>Code that should be executed before each plot.</dd>
<dt>plot_basedir</dt>
<dd>Base directory, to which <tt class="docutils literal"><span class="pre">plot::</span></tt> file names are relative
to.  (If None or empty, file names are relative to the
directoly where the file containing the directive is.)</dd>
<dt>plot_formats</dt>
<dd><p class="first">File formats to generate. List of tuples or strings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[(</span><span class="n">suffix</span><span class="p">,</span> <span class="n">dpi</span><span class="p">),</span> <span class="n">suffix</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p class="last">that determine the file format and the DPI. For entries whose
DPI was omitted, sensible defaults are chosen.</p>
</dd>
<dt>plot_html_show_formats</dt>
<dd>Whether to show links to the files in HTML.</dd>
<dt>plot_rcparams</dt>
<dd>A dictionary containing any non-standard rcParams that should
be applied before each plot.</dd>
<dt>plot_apply_rcparams</dt>
<dd>By default, rcParams are applied when <tt class="xref py py-obj docutils literal"><span class="pre">context</span></tt> option is not used in 
a plot  directive.  This configuration option overrides this behaviour 
and applies rcParams before each plot.</dd>
<dt>plot_working_directory</dt>
<dd>By default, the working directory will be changed to the directory of 
the example, so the code can get at its data files, if any.  Also its 
path will be added to <tt class="xref py py-obj docutils literal"><span class="pre">sys.path</span></tt> so it can import any helper modules 
sitting beside it.  This configuration option can be used to specify 
a central directory (also added to <tt class="xref py py-obj docutils literal"><span class="pre">sys.path</span></tt>) where data files and 
helper modules for all code are located.</dd>
<dt>plot_template</dt>
<dd>Provide a customized template for preparing resturctured text.</dd>
</dl>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="static-figures">
<h3>Static figures<a class="headerlink" href="#static-figures" title="Permalink to this headline">¶</a></h3>
<p>Any figures that rely on optional system configurations need to be handled a
little differently. These figures are not to be generated during the
documentation build, in order to keep the prerequisites to the documentation
effort as low as possible. Please run the <tt class="file docutils literal"><span class="pre">doc/pyplots/make.py</span></tt> script
when adding such figures, and commit the script <strong>and</strong> the images to
git. Please also add a line to the README in doc/pyplots for any additional
requirements necessary to generate a new figure. Once these steps have been
taken, these figures can be included in the usual way:</p>
<div class="highlight-python"><pre>.. plot:: pyplots/tex_unicode_demo.py
   :include-source:</pre>
</div>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>The source of the files in the <tt class="docutils literal"><span class="pre">examples</span></tt> directory are
automatically included in the HTML docs.  An image is generated and
included for all examples in the <tt class="docutils literal"><span class="pre">api</span></tt> and <tt class="docutils literal"><span class="pre">pylab_examples</span></tt>
directories.  To exclude the example from having an image rendered,
insert the following special comment anywhere in the script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># -*- noplot -*-</span>
</pre></div>
</div>
</div>
<div class="section" id="animations">
<h3>Animations<a class="headerlink" href="#animations" title="Permalink to this headline">¶</a></h3>
<p>We have a matplotlib google/gmail account with username <tt class="docutils literal"><span class="pre">mplgithub</span></tt>
which we used to setup the github account but can be used for other
purposes, like hosting google docs or youtube videos.  You can embed a
matplotlib animation in the docs by first saving the animation as a
movie using <a class="reference internal" href="../api/animation_api.html#matplotlib.animation.Animation.save" title="matplotlib.animation.Animation.save"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.animation.Animation.save()</span></tt></a>, and then
uploading to <a class="reference external" href="http://www.youtube.com/user/matplotlib">matplotlib’s youtube
channel</a> and inserting the
embedding string youtube provides like:</p>
<div class="highlight-python"><pre>.. raw:: html

   &lt;iframe width="420" height="315"
     src="http://www.youtube.com/embed/32cjc6V0OZY"
     frameborder="0" allowfullscreen&gt;
   &lt;/iframe&gt;</pre>
</div>
<p>An example save command to generate a movie looks like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">)</span>

<span class="n">ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">'double_pendulum.mp4'</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
<p>Contact Michael Droettboom for the login password to upload youtube videos of
google docs to the mplgithub account.</p>
</div>
</div>
<div class="section" id="referring-to-mpl-documents">
<span id="referring-to-mpl-docs"></span><h2>Referring to mpl documents<a class="headerlink" href="#referring-to-mpl-documents" title="Permalink to this headline">¶</a></h2>
<p>In the documentation, you may want to include to a document in the
matplotlib src, e.g., a license file or an image file from <tt class="xref py py-obj docutils literal"><span class="pre">mpl-data</span></tt>,
refer to it via a relative path from the document where the rst file
resides, eg, in <tt class="file docutils literal"><span class="pre">users/navigation_toolbar.rst</span></tt>, we refer to the
image icons with:</p>
<div class="highlight-python"><pre>.. image:: ../../lib/matplotlib/mpl-data/images/subplots.png</pre>
</div>
<p>In the <tt class="xref py py-obj docutils literal"><span class="pre">users</span></tt> subdirectory, if I want to refer to a file in the mpl-data
directory, I use the symlink directory.  For example, from
<tt class="xref py py-obj docutils literal"><span class="pre">customizing.rst</span></tt>:</p>
<div class="highlight-python"><pre>.. literalinclude:: ../../lib/matplotlib/mpl-data/matplotlibrc</pre>
</div>
<p>One exception to this is when referring to the examples dir.  Relative
paths are extremely confusing in the sphinx plot extensions, so
without getting into the dirty details, it is easier to simply include
a symlink to the files at the top doc level directory.  This way, API
documents like <a class="reference internal" href="../api/pyplot_api.html#matplotlib.pyplot.plot" title="matplotlib.pyplot.plot"><tt class="xref py py-meth docutils literal"><span class="pre">matplotlib.pyplot.plot()</span></tt></a> can refer to the
examples in a known location.</p>
<p>In the top level doc directory we have symlinks pointing to
the mpl <tt class="xref py py-obj docutils literal"><span class="pre">examples</span></tt>:</p>
<div class="highlight-python"><pre>home:~/mpl/doc&gt; ls -l mpl_*
mpl_examples -&gt; ../examples</pre>
</div>
<p>So we can include plots from the examples dir using the symlink:</p>
<div class="highlight-python"><pre>.. plot:: mpl_examples/pylab_examples/simple_plot.py</pre>
</div>
<p>We used to use a symlink for <tt class="file docutils literal"><span class="pre">mpl-data</span></tt> too, but the distro
becomes very large on platforms that do not support links (eg the font
files are duplicated and large)</p>
</div>
<div class="section" id="internal-section-references">
<span id="internal-section-refs"></span><h2>Internal section references<a class="headerlink" href="#internal-section-references" title="Permalink to this headline">¶</a></h2>
<p>To maximize internal consistency in section labeling and references,
use hyphen separated, descriptive labels for section references, eg:</p>
<div class="highlight-python"><pre>.. _howto-webapp:</pre>
</div>
<p>and refer to it using  the standard reference syntax:</p>
<div class="highlight-python"><pre>See :ref:`howto-webapp`</pre>
</div>
<p>Keep in mind that we may want to reorganize the contents later, so
let’s avoid top level names in references like <tt class="docutils literal"><span class="pre">user</span></tt> or <tt class="docutils literal"><span class="pre">devel</span></tt>
or <tt class="docutils literal"><span class="pre">faq</span></tt> unless necessary, because for example the FAQ “what is a
backend?” could later become part of the users guide, so the label:</p>
<div class="highlight-python"><pre>.. _what-is-a-backend</pre>
</div>
<p>is better than:</p>
<div class="highlight-python"><pre>.. _faq-backend</pre>
</div>
<p>In addition, since underscores are widely used by Sphinx itself, let’s prefer
hyphens to separate words.</p>
</div>
<div class="section" id="section-names-etc">
<h2>Section names, etc<a class="headerlink" href="#section-names-etc" title="Permalink to this headline">¶</a></h2>
<p>For everything but top level chapters, please use <tt class="docutils literal"><span class="pre">Upper</span> <span class="pre">lower</span></tt> for
section titles, eg <tt class="docutils literal"><span class="pre">Possible</span> <span class="pre">hangups</span></tt> rather than <tt class="docutils literal"><span class="pre">Possible</span>
<span class="pre">Hangups</span></tt></p>
</div>
<div class="section" id="inheritance-diagrams">
<h2>Inheritance diagrams<a class="headerlink" href="#inheritance-diagrams" title="Permalink to this headline">¶</a></h2>
<p>Class inheritance diagrams can be generated with the
<tt class="docutils literal"><span class="pre">inheritance-diagram</span></tt> directive.  To use it, you provide the
directive with a number of class or module names (separated by
whitespace).  If a module name is provided, all classes in that module
will be used.  All of the ancestors of these classes will be included
in the inheritance diagram.</p>
<p>A single option is available: <em>parts</em> controls how many of parts in
the path to the class are shown.  For example, if <em>parts</em> == 1, the
class <tt class="docutils literal"><span class="pre">matplotlib.patches.Patch</span></tt> is shown as <tt class="docutils literal"><span class="pre">Patch</span></tt>.  If <em>parts</em>
== 2, it is shown as <tt class="docutils literal"><span class="pre">patches.Patch</span></tt>.  If <em>parts</em> == 0, the full
path is shown.</p>
<p>Example:</p>
<div class="highlight-python"><pre>.. inheritance-diagram:: matplotlib.patches matplotlib.lines matplotlib.text
   :parts: 2</pre>
</div>
<p class="graphviz">
<img alt="Inheritance diagram of matplotlib.patches, matplotlib.lines, matplotlib.text" class="inheritance" src="../_images/inheritance-c9f3915294082ed85071026684b1087c7eca0a29.png" usemap="#inheritance03ab0131b5"/>
<map id="inheritance03ab0131b5" name="inheritance03ab0131b5">
<area alt="" coords="22,562,159,585" href="../api/artist_api.html#matplotlib.patches.ArrowStyle" id="node1" shape="rect" title=":class:`ArrowStyle` is a container class which defines several"/>
<area alt="" coords="398,4,518,28" href="../api/artist_api.html#matplotlib.patches.Polygon" id="node2" shape="rect" title="A general polygon patch."/>
<area alt="" coords="606,4,747,28" href="../api/artist_api.html#matplotlib.patches.FancyArrow" id="node7" shape="rect" title="Like Arrow, but lets you set head width and head height independently."/>
<area alt="" coords="221,260,326,284" href="../api/artist_api.html#matplotlib.patches.Patch" id="node3" shape="rect" title="A patch is a 2D artist with a face color and an edge color."/>
<area alt="" coords="398,51,518,75" href="../api/artist_api.html#matplotlib.patches.Shadow" id="node5" shape="rect" title="patches.Shadow"/>
<area alt="" coords="371,97,545,121" href="../api/artist_api.html#matplotlib.patches.FancyArrowPatch" id="node10" shape="rect" title="A fancy arrow patch. It draws an arrow using the :class:ArrowStyle."/>
<area alt="" coords="398,144,518,168" href="../api/artist_api.html#matplotlib.patches.YAArrow" id="node17" shape="rect" title="Yet another arrow class."/>
<area alt="" coords="392,190,524,214" href="../api/artist_api.html#matplotlib.patches.PathPatch" id="node22" shape="rect" title="A general polycurve path patch."/>
<area alt="" coords="376,237,540,260" href="../api/artist_api.html#matplotlib.patches.RegularPolygon" id="node25" shape="rect" title="A regular polygon patch."/>
<area alt="" coords="403,283,513,307" href="../api/artist_api.html#matplotlib.patches.Ellipse" id="node29" shape="rect" title="A scale-free ellipse."/>
<area alt="" coords="393,329,523,353" href="../api/artist_api.html#matplotlib.patches.Rectangle" id="node32" shape="rect" title="Draw a rectangle with lower left at *xy* = (*x*, *y*) with"/>
<area alt="" coords="373,376,543,400" href="../api/artist_api.html#matplotlib.patches.FancyBboxPatch" id="node40" shape="rect" title="Draw a fancy box around a rectangle with lower left at *xy*=(*x*,"/>
<area alt="" coords="405,422,511,446" href="../api/artist_api.html#matplotlib.patches.Arrow" id="node42" shape="rect" title="An arrow patch."/>
<area alt="" coords="402,469,514,493" href="../api/artist_api.html#matplotlib.patches.Wedge" id="node44" shape="rect" title="Wedge shaped patch."/>
<area alt="" coords="590,97,763,121" href="../api/artist_api.html#matplotlib.patches.ConnectionPatch" id="node9" shape="rect" title="A :class:`~matplotlib.patches.ConnectionPatch` class is to make"/>
<area alt="" coords="33,469,147,493" href="../api/artist_api.html#matplotlib.text.OffsetFrom" id="node12" shape="rect" title="text.OffsetFrom"/>
<area alt="" coords="238,515,309,539" href="../api/artist_api.html#matplotlib.text.Text" id="node14" shape="rect" title="Handle storing and drawing of text in window or data coordinates."/>
<area alt="" coords="401,515,515,539" href="../api/artist_api.html#matplotlib.text.Annotation" id="node19" shape="rect" title="A :class:`~matplotlib.text.Text` class to make annotating things"/>
<area alt="" coords="394,562,522,585" href="../api/artist_api.html#matplotlib.text.TextWithDash" id="node38" shape="rect" title="This is basically a :class:`~matplotlib.text.Text` with a dash"/>
<area alt="" coords="46,515,134,539" href="../api/artist_api.html#matplotlib.artist.Artist" id="node15" shape="rect" title="Abstract base class for someone who renders into a"/>
<area alt="" coords="227,562,320,585" href="../api/artist_api.html#matplotlib.lines.Line2D" id="node47" shape="rect" title="A line - the line can have both a solid linestyle connecting all"/>
<area alt="" coords="20,422,161,446" href="../api/artist_api.html#matplotlib.lines.VertexSelector" id="node21" shape="rect" title="Manage the callbacks to maintain a list of selected vertices for"/>
<area alt="" coords="5,376,176,400" href="../api/artist_api.html#matplotlib.patches.ConnectionStyle" id="node24" shape="rect" title=":class:`ConnectionStyle` is a container class which defines"/>
<area alt="" coords="600,237,753,260" href="../api/artist_api.html#matplotlib.patches.CirclePolygon" id="node34" shape="rect" title="A polygon-approximation of a circle patch."/>
<area alt="" coords="630,283,723,307" href="../api/artist_api.html#matplotlib.patches.Arc" id="node28" shape="rect" title="An elliptical arc.  Because it performs various optimizations, it"/>
<area alt="" coords="624,329,729,353" href="../api/artist_api.html#matplotlib.patches.Circle" id="node36" shape="rect" title="A circle patch."/>
<area alt="" coords="28,329,153,353" href="../api/artist_api.html#matplotlib.patches.BoxStyle" id="node46" shape="rect" title=":class:`BoxStyle` is a container class which defines several"/>
</map>
</p>
</div>
<div class="section" id="emacs-helpers">
<span id="id4"></span><h2>Emacs helpers<a class="headerlink" href="#emacs-helpers" title="Permalink to this headline">¶</a></h2>
<p>There is an emacs mode <a class="reference external" href="http://docutils.sourceforge.net/tools/editors/emacs/rst.el">rst.el</a> which
automates many important ReST tasks like building and updating
table-of-contents, and promoting or demoting section headings.  Here
is the basic <tt class="docutils literal"><span class="pre">.emacs</span></tt> configuration:</p>
<div class="highlight-python"><pre>(require 'rst)
(setq auto-mode-alist
      (append '(("\\.txt$" . rst-mode)
                ("\\.rst$" . rst-mode)
                ("\\.rest$" . rst-mode)) auto-mode-alist))</pre>
</div>
<p>Some helpful functions:</p>
<div class="highlight-python"><pre>C-c TAB - rst-toc-insert

  Insert table of contents at point

C-c C-u - rst-toc-update

    Update the table of contents at point

C-c C-l rst-shift-region-left

    Shift region to the left

C-c C-r rst-shift-region-right

    Shift region to the right</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="release_guide.html" title="Doing a matplotlib release">next</a> |</li>
<li class="right">
<a href="testing.html" title="Testing">previous</a> |</li>
<li><a href="../index.html">home</a>| </li>
<li><a href="../examples/index.html">examples</a>| </li>
<li><a href="../gallery.html">gallery</a>| </li>
<li><a href="../api/pyplot_summary.html">pyplot</a>| </li>
<li><a href="../contents.html">docs</a> »</li>
<li><a href="index.html">The Matplotlib Developers’ Guide</a> »</li>
</ul>
</div>
<div class="footer">
        © Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2013 The matplotlib development team.
      Last updated on Jul 31, 2013.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Text rendering With LaTeX — Matplotlib 1.4.1 documentation</title>
<link href="../_static/mpl.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<link href="../_static/opensearch.xml" rel="search" title="Search within Matplotlib 1.4.1 documentation" type="application/opensearchdescription+xml"/>
<link href="../index.html" rel="top" title="Matplotlib 1.4.1 documentation"/>
<link href="index_text.html" rel="up" title="Working with text"/>
<link href="annotations_intro.html" rel="next" title="Annotating text"/>
<link href="pgf.html" rel="prev" title="Typesetting With XeLaTeX/LuaLaTeX"/>
<link href="http://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css"/>
<link href="https://matplotlib.org/users/usetex.html" rel="canonical"/></head>
<body><div id="old-version-banner">
            You are reading documentation for a static version of Matplotlib.
            <a href="https://matplotlib.org/users/usetex.html">This page may have been updated.</a>
</div>
<link href="/_static/favicon.ico" rel="shortcut icon"/>
<!-- The "Fork me on github" ribbon -->
<img src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" style="float: right; margin-bottom: -40px; top: 0; right: 0; border: 0;" usemap="#ribbonmap"/>
<map name="ribbonmap">
<area coords="15,0,148,-1,148,135" href="https://github.com/matplotlib/matplotlib" shape="poly" title="Fork me on GitHub"/>
</map>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img alt="matplotlib" border="0" src="../_static/logo2.png"/></a>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="annotations_intro.html" title="Annotating text">next</a> |</li>
<li class="right">
<a accesskey="P" href="pgf.html" title="Typesetting With XeLaTeX/LuaLaTeX">previous</a> |</li>
<li><a href="../index.html">home</a>| </li>
<li><a href="../examples/index.html">examples</a>| </li>
<li><a href="../gallery.html">gallery</a>| </li>
<li><a href="../api/pyplot_summary.html">pyplot</a>| </li>
<li><a href="../contents.html">docs</a> »</li>
<li><a href="index.html">User’s Guide</a> »</li>
<li><a href="beginner.html">Beginner’s Guide</a> »</li>
<li><a accesskey="U" href="index_text.html">Working with text</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><a href="../contents.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">Text rendering With LaTeX</a><ul>
<li><a class="reference internal" href="#usetex-with-unicode">usetex with unicode</a></li>
<li><a class="reference internal" href="#postscript-options">Postscript options</a></li>
<li><a class="reference internal" href="#possible-hangups">Possible hangups</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
<h4>Previous topic</h4>
<p class="topless"><a href="pgf.html" title="previous chapter">Typesetting With XeLaTeX/LuaLaTeX</a></p>
<h4>Next topic</h4>
<p class="topless"><a href="annotations_intro.html" title="next chapter">Annotating text</a></p>
<div aria-label="source link" role="note">
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../_sources/users/usetex.txt" rel="nofollow">Show Source</a></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="text-rendering-with-latex">
<span id="usetex-tutorial"></span><h1>Text rendering With LaTeX<a class="headerlink" href="#text-rendering-with-latex" title="Permalink to this headline">¶</a></h1>
<p>Matplotlib has the option to use LaTeX to manage all text layout.  This
option is available with the following backends:</p>
<ul class="simple">
<li>Agg</li>
<li>PS</li>
<li>PDF</li>
</ul>
<p>The LaTeX option is activated by setting <code class="docutils literal"><span class="pre">text.usetex</span> <span class="pre">:</span> <span class="pre">True</span></code> in
your rc settings.  Text handling with matplotlib’s LaTeX support is
slower than matplotlib’s very capable <a class="reference internal" href="mathtext.html#mathtext-tutorial"><em>mathtext</em></a>, but is more flexible, since different LaTeX
packages (font packages, math packages, etc.)  can be used. The
results can be striking, especially when you take care to use the same
fonts in your figures as in the main document.</p>
<p>Matplotlib’s LaTeX support requires a working <a class="reference external" href="http://www.tug.org">LaTeX</a> installation, <a class="reference external" href="http://sourceforge.net/projects/dvipng">dvipng</a>
(which may be included with your LaTeX installation), and <a class="reference external" href="http://www.cs.wisc.edu/~ghost/">Ghostscript</a>
(GPL Ghostscript 8.60 or later is recommended). The executables for these
external dependencies must all be located on your <span class="target" id="index-0"></span><a class="reference internal" href="../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code></a>.</p>
<p>There are a couple of options to mention, which can be changed using <a class="reference internal" href="customizing.html#customizing-matplotlib"><em>rc
settings</em></a>. Here is an example matplotlibrc file:</p>
<div class="highlight-python"><div class="highlight"><pre>font.family        : serif
font.serif         : Times, Palatino, New Century Schoolbook, Bookman, Computer Modern Roman
font.sans-serif    : Helvetica, Avant Garde, Computer Modern Sans serif
font.cursive       : Zapf Chancery
font.monospace     : Courier, Computer Modern Typewriter

text.usetex        : true
</pre></div>
</div>
<p>The first valid font in each family is the one that will be loaded. If the
fonts are not specified, the Computer Modern fonts are used by default. All of
the other fonts are Adobe fonts. Times and Palatino each have their own
accompanying math fonts, while the other Adobe serif fonts make use of the
Computer Modern math fonts. See the <a class="reference external" href="http://www.ctan.org/tex-archive/macros/latex/required/psnfss/psnfss2e.pdf">PSNFSS</a> documentation for more details.</p>
<p>To use LaTeX and select Helvetica as the default font, without editing
matplotlibrc use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rc</span>
<span class="n">rc</span><span class="p">(</span><span class="s">'font'</span><span class="p">,</span><span class="o">**</span><span class="p">{</span><span class="s">'family'</span><span class="p">:</span><span class="s">'sans-serif'</span><span class="p">,</span><span class="s">'sans-serif'</span><span class="p">:[</span><span class="s">'Helvetica'</span><span class="p">]})</span>
<span class="c">## for Palatino and other serif fonts use:</span>
<span class="c">#rc('font',**{'family':'serif','serif':['Palatino']})</span>
<span class="n">rc</span><span class="p">(</span><span class="s">'text'</span><span class="p">,</span> <span class="n">usetex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is the standard example, <code class="xref py py-obj docutils literal"><span class="pre">tex_demo.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">"""</span>
<span class="sd">Demo of TeX rendering.</span>

<span class="sd">You can use TeX to render all of your matplotlib text if the rc</span>
<span class="sd">parameter text.usetex is set.  This works currently on the agg and ps</span>
<span class="sd">backends, and requires that you have tex and the other dependencies</span>
<span class="sd">described at http://matplotlib.sf.net/matplotlib.texmanager.html</span>
<span class="sd">properly installed on your system.  The first time you run a script</span>
<span class="sd">you will see a lot of output from tex and associated tools.  The next</span>
<span class="sd">time, the run may be silent, as a lot of the information is cached in</span>
<span class="sd">~/.tex.cache</span>

<span class="sd">"""</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>


<span class="c"># Example data</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s">'text'</span><span class="p">,</span> <span class="n">usetex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s">'font'</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s">'serif'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">r'\textbf{time} (s)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">r'\textit{voltage} (mV)'</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">r"\TeX\ is Number "</span>
          <span class="s">r"$\displaystyle\sum_{n=1}^\infty\frac{-e^{i\pi}}{2^n}$!"</span><span class="p">,</span>
          <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'gray'</span><span class="p">)</span>
<span class="c"># Make room for the ridiculously large title.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'tex_demo'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../pyplots/tex_demo.py">Source code</a>, <a class="reference external" href="../pyplots/tex_demo.png">png</a>, <a class="reference external" href="../pyplots/tex_demo.hires.png">hires.png</a>, <a class="reference external" href="../pyplots/tex_demo.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/tex_demo1.png" src="../_images/tex_demo1.png"/>
</div>
<p>Note that display math mode (<code class="docutils literal"><span class="pre">$$</span> <span class="pre">e=mc^2</span> <span class="pre">$$</span></code>) is  not supported, but adding the
command <code class="docutils literal"><span class="pre">\displaystyle</span></code>, as in <code class="xref py py-obj docutils literal"><span class="pre">tex_demo.py</span></code>, will produce the same
results.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Certain characters require special escaping in TeX, such as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># $ % &amp; ~ _ ^ \ { } \( \) \[ \]</span>
</pre></div>
</div>
<p class="last">Therefore, these characters will behave differently depending on
the rcParam <code class="docutils literal"><span class="pre">text.usetex</span></code> flag.</p>
</div>
<div class="section" id="usetex-with-unicode">
<span id="usetex-unicode"></span><h2>usetex with unicode<a class="headerlink" href="#usetex-with-unicode" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to use unicode strings with the LaTeX text manager, here is
an example taken from <code class="xref py py-obj docutils literal"><span class="pre">tex_unicode_demo.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="sd">"""</span>
<span class="sd">This demo is tex_demo.py modified to have unicode. See that file for</span>
<span class="sd">more information.</span>
<span class="sd">"""</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="kn">as</span> <span class="nn">mpl</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'text.usetex'</span><span class="p">]</span><span class="o">=</span><span class="bp">True</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'text.latex.unicode'</span><span class="p">]</span><span class="o">=</span><span class="bp">True</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">arange</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">pi</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="p">(</span><span class="n">figure</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
     <span class="n">grid</span><span class="p">,</span> <span class="n">savefig</span><span class="p">,</span> <span class="n">show</span><span class="p">)</span>

<span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">+</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span>
<span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">xlabel</span><span class="p">(</span><span class="s">r'\textbf{time (s)}'</span><span class="p">)</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">r'\textit{Velocity (\u00B0/sec)}'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">title</span><span class="p">(</span><span class="s">r"\TeX\ is Number $\displaystyle\sum_{n=1}^\infty\frac{-e^{i\pi}}{2^n}$!"</span><span class="p">,</span>
      <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'r'</span><span class="p">)</span>
<span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../mpl_examples/pylab_examples/tex_unicode_demo.py">Source code</a>, <a class="reference external" href="../mpl_examples/pylab_examples/tex_unicode_demo.png">png</a>, <a class="reference external" href="../mpl_examples/pylab_examples/tex_unicode_demo.hires.png">hires.png</a>, <a class="reference external" href="../mpl_examples/pylab_examples/tex_unicode_demo.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/tex_unicode_demo1.png" src="../_images/tex_unicode_demo1.png"/>
</div>
</div>
<div class="section" id="postscript-options">
<span id="usetex-postscript"></span><h2>Postscript options<a class="headerlink" href="#postscript-options" title="Permalink to this headline">¶</a></h2>
<p>In order to produce encapsulated postscript files that can be embedded in a new
LaTeX document, the default behavior of matplotlib is to distill the output,
which removes some postscript operators used by LaTeX that are illegal in an
eps file. This step produces results which may be unacceptable to some users,
because the text is coarsely rasterized and converted to bitmaps, which are not
scalable like standard postscript, and the text is not searchable. One
workaround is to to set <code class="docutils literal"><span class="pre">ps.distiller.res</span></code> to a higher value (perhaps 6000)
in your rc settings, which will produce larger files but may look better and
scale reasonably. A better workaround, which requires <a class="reference external" href="http://poppler.freedesktop.org/">Poppler</a> or <a class="reference external" href="http://www.foolabs.com/xpdf">Xpdf</a>, can be
activated by changing the <code class="docutils literal"><span class="pre">ps.usedistiller</span></code> rc setting to <code class="docutils literal"><span class="pre">xpdf</span></code>. This
alternative produces postscript without rasterizing text, so it scales
properly, can be edited in Adobe Illustrator, and searched text in pdf
documents.</p>
</div>
<div class="section" id="possible-hangups">
<span id="usetex-hangups"></span><h2>Possible hangups<a class="headerlink" href="#possible-hangups" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>On Windows, the <span class="target" id="index-1"></span><a class="reference internal" href="../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code></a> environment variable may need to be modified
to include the directories containing the latex, dvipng and ghostscript
executables. See <a class="reference internal" href="../faq/environment_variables_faq.html#environment-variables"><em>Environment Variables</em></a> and
<a class="reference internal" href="../faq/environment_variables_faq.html#setting-windows-environment-variables"><em>Setting environment variables in windows</em></a> for details.</li>
<li>Using MiKTeX with Computer Modern fonts, if you get odd *Agg and PNG
results, go to MiKTeX/Options and update your format files</li>
<li>The fonts look terrible on screen. You are probably running Mac OS, and there
is some funny business with older versions of dvipng on the mac. Set
<code class="docutils literal"><span class="pre">text.dvipnghack</span> <span class="pre">:</span> <span class="pre">True</span></code> in your matplotlibrc file.</li>
<li>On Ubuntu and Gentoo, the base texlive install does not ship with
the type1cm package. You may need to install some of the extra
packages to get all the goodies that come bundled with other latex
distributions.</li>
<li>Some progress has been made so matplotlib uses the dvi files
directly for text layout. This allows latex to be used for text
layout with the pdf and svg backends, as well as the *Agg and PS
backends. In the future, a latex installation may be the only
external dependency.</li>
</ul>
</div>
<div class="section" id="troubleshooting">
<span id="usetex-troubleshooting"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Try deleting your <code class="file docutils literal"><span class="pre">.matplotlib/tex.cache</span></code> directory. If you don’t know
where to find <code class="file docutils literal"><span class="pre">.matplotlib</span></code>, see <a class="reference internal" href="../faq/troubleshooting_faq.html#locating-matplotlib-config-dir"><em>.matplotlib directory location</em></a>.</li>
<li>Make sure LaTeX, dvipng and ghostscript are each working and on your
<span class="target" id="index-2"></span><a class="reference internal" href="../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal"><span class="pre">PATH</span></code></a>.</li>
<li>Make sure what you are trying to do is possible in a LaTeX document,
that your LaTeX syntax is valid and that you are using raw strings
if necessary to avoid unintended escape sequences.</li>
<li>Most problems reported on the mailing list have been cleared up by
upgrading <a class="reference external" href="http://www.cs.wisc.edu/~ghost/">Ghostscript</a>. If possible, please try upgrading to the
latest release before reporting problems to the list.</li>
<li>The <code class="docutils literal"><span class="pre">text.latex.preamble</span></code> rc setting is not officially supported. This
option provides lots of flexibility, and lots of ways to cause
problems. Please disable this option before reporting problems to
the mailing list.</li>
<li>If you still need help, please see <a class="reference internal" href="../faq/troubleshooting_faq.html#reporting-problems"><em>Getting help</em></a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="footer">
        © Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2014 The matplotlib development team.
      Last updated on Oct 18, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b2.
    </div>
</body>
</html>